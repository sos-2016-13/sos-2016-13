<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="RESTClient/bootstrap/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
  <script href="RESTClient/bootstrap/css/bootstrap.min.js"></script>
</head>
<body>
<div class="container">
<h1>Alvaro Santos Mu√±oz (Oil and electricity consumed)</h1><br/><br/>
<button id="loadInitialData">Load Inital Data</button> Apikey: <input id="apikey"></input>
<table id="location" class="table">
	<thead>
    <tr>
		<th>Countries</th>
        <th>Year</th>
		<th>Petroleum Cost</th>
		<th>Electric Cost</th>
		<th></th>
		<th></th>
    </tr>
	</thead>
</table>
</div>




	
	<script>
		$("#loadInitialData").click(function(){

        var apikey = $("#apikey").val();

        $.ajax({
            url:"https://sos-2016-13.herokuapp.com/api/v1/consumed/loadInitialData?apikey="+apikey,
            type:"GET",
            contentType : "application/json"

   		     });
  		});


		$("body").ready(function(){

				
		$.ajax(
		{
			type: "GET",
			url: 'https://sos-2016-13.herokuapp.com/api/v1/consumed?apikey=eea',
			data: "{}",
			contentType: "application/json; charset=utf-8",
			dataType: "json",
			cache: false,
			success: function (data) {
				var trHTML = '';

			$.each(data, function (i, item) {
				trHTML += '<thead><tr><td>' + item.country + '</td><td>' + item.year + '</td><td>' + item.petroleum_cost + '</td><td>' + item.electric_cost + '</td><td><a href="" id="fun_edit"><img src="edit.ico" width="15" height="15"></a></td><td><a href="" id="fun_remove"><img src="remove.png" width="15" height="15"></a></td></tr></thead>';
			});

			$('#location').append(trHTML);
			},
			error: function (msg) {
				alert(msg.responseText);
			}



   		 });		
	});


	</script>


</body>
</html>