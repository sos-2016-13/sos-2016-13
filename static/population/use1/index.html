
<html>
  <head>   
    <title>Consume External API</title>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script src="https://code.jquery.com/jquery-1.12.3.min.js"></script>  
    <link href="//cdn.muicss.com/mui-0.5.6/css/mui.min.css" rel="stylesheet" type="text/css" />
     <script src="//cdn.muicss.com/mui-0.5.6/js/mui.min.js"></script>
      
   
     <script type="text/javascript">
  

      $(document).ready(() =>{    
    
  
    var request = $.ajax({
    
      url:"https://feeds.citibikenyc.com/stations/stations.json" ,
      type: "GET",
      contentType: "application/json; charset=utf-8"
     
  

    });

    request.done((dataFromServer,status) =>{


     google.charts.load('current', {'packages':['corechart']});
      google.charts.setOnLoadCallback(drawChart);
      
      function drawChart() {

        var dataForWidget = [["COD","FK_Unidad"]];
        

        for(i=0; i<dataFromServer.stationBeanList.length;i++){
          	var item= dataFromServer[i];
 			      var itemForWidget = [stationBeanList.stationName, stationBeanList.id];
 				   	dataForWidget.push(itemForWidget);
 				}
 	  		

        var data = google.visualization.arrayToDataTable(dataForWidget);
       

        var options = {
          title: 'API Externa'
        };

        var chart = new google.visualization.PieChart(document.getElementById('piechart'));

        chart.draw(data, options);
    	}
      });
    });




    </script>
  
  </head>
  <body>
     
  
  <div id="piechart"></div>

  </body>
</html>  